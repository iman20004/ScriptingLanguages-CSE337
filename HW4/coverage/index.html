<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Cise337-hw4-more-scripting-iman20004</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.12.3/application.js' type='text/javascript'></script>
    <link href='./assets/0.12.3/application.css' media='screen, projection, print' rel='stylesheet' type='text/css' />
    <link rel="shortcut icon" type="image/png" href="./assets/0.12.3/favicon_green.png" />
    <link rel="icon" type="image/png" href="./assets/0.12.3/favicon.png" />
  </head>

  <body>
    <div id="loading">
      <img src="./assets/0.12.3/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" class="hide">
      <div class="timestamp">Generated <abbr class="timeago" title="2021-11-14T17:41:09-05:00">2021-11-14T17:41:09-05:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent">
      <span class="green">
  98.42%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         38.43
       </span>
    </span> hits/line
    )
  </h2>

  <a name="AllFiles"></a>

  <div>
    <b>1</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>253</b> relevant lines,
    <span class="green"><b>249</b> lines covered</span> and
    <span class="red"><b>4</b> lines missed. </span>
    (<span class="green">
  98.42%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#bdfae0da4ea2991b792f57a1cc3e2f7503ca44bf" class="src_link" title="loot.rb">loot.rb</a></td>
            <td class="green strong cell--number t-file__coverage">98.42 %</td>
            <td class="cell--number">438</td>
            <td class="cell--number">253</td>
            <td class="cell--number">249</td>
            <td class="cell--number">4</td>
            <td class="cell--number">38.43</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>


        
      </div>

      <div id="footer">
        Generated by <a href="https://github.com/simplecov-ruby/simplecov">simplecov</a> v0.21.2
        and simplecov-html v0.12.3<br/>
        using Unit Tests
      </div>

      <div class="source_files">
      
        <div class="source_table" id="bdfae0da4ea2991b792f57a1cc3e2f7503ca44bf">
  <div class="header">
    <h3>loot.rb</h3>
    <h4>
      <span class="green">
  98.42%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>253</b> relevant lines.
      <span class="green"><b>249</b> lines covered</span> and
      <span class="red"><b>4</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby">########## IMAN ALI ##########</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">########## 112204305 #############</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">########## imaali #############</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">$pirateColors = [:blue, :green, :purple, :gold]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">$maxPlayersAllowed = 5</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">$minPlayersAllowed = 2</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">$playerNames = [&quot;Joy&quot;, &quot;Nan&quot;, &quot;Sat&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">class MerchantShip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(value)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="750" data-linenumber="12">
            <span class="hits">750</span>
            

            

            <code class="ruby">    @value = value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">class PirateShip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(color, attack_value)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1440" data-linenumber="19">
            <span class="hits">1440</span>
            

            

            <code class="ruby">    @color = color</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1440" data-linenumber="20">
            <span class="hits">1440</span>
            

            

            <code class="ruby">    @attack_value = attack_value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :color, :attack_value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Captain</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(color)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="27">
            <span class="hits">120</span>
            

            

            <code class="ruby">    @color = color</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :color</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Admiral</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">  @@instance = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="36">
            <span class="hits">2</span>
            

            

            <code class="ruby">    if @@instance.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return self</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">      raise RuntimeError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def Admiral.get_instance</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="44">
            <span class="hits">30</span>
            

            

            <code class="ruby">    if @@instance.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @@instance = Admiral.new()</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="47">
            <span class="hits">30</span>
            

            

            <code class="ruby">    return @@instance</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Player</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(name)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="96" data-linenumber="53">
            <span class="hits">96</span>
            

            

            <code class="ruby">    @name = name</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="96" data-linenumber="54">
            <span class="hits">96</span>
            

            

            <code class="ruby">    @merchant_ships_at_sea = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="96" data-linenumber="55">
            <span class="hits">96</span>
            

            

            <code class="ruby">    @merchant_ships_captured = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="96" data-linenumber="56">
            <span class="hits">96</span>
            

            

            <code class="ruby">    @hand = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="96" data-linenumber="57">
            <span class="hits">96</span>
            

            

            <code class="ruby">    @merchant_pirates = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="96" data-linenumber="58">
            <span class="hits">96</span>
            

            

            <code class="ruby">    @dealer = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="61">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_accessor :name, :merchant_ships_at_sea, :merchant_ships_captured, :hand, :merchant_pirates, :dealer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="64">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def deal(game_state)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="65">
            <span class="hits">5</span>
            

            

            <code class="ruby">    @dealer = true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="66">
            <span class="hits">5</span>
            

            

            <code class="ruby">    game_state.deck.cards.shuffle!()</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="67">
            <span class="hits">5</span>
            

            

            <code class="ruby">    card = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="68">
            <span class="hits">5</span>
            

            

            <code class="ruby">    (1..6).each do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="69">
            <span class="hits">30</span>
            

            

            <code class="ruby">      game_state.players.each do |player|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="70">
            <span class="hits">120</span>
            

            

            <code class="ruby">        current = game_state.deck.cards[card]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="71">
            <span class="hits">120</span>
            

            

            <code class="ruby">        player.hand.append(current)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="72">
            <span class="hits">120</span>
            

            

            <code class="ruby">        game_state.deck.cards.delete(current)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="73">
            <span class="hits">120</span>
            

            

            <code class="ruby">        card += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="78">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def draw_card(game)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="79">
            <span class="hits">2</span>
            

            

            <code class="ruby">    if game.deck.cards.length() &gt; 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            <span class="hits">1</span>
            

            

            <code class="ruby">      card = game.deck.cards.pop</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="81">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @hand.append(card)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="83">
            <span class="hits">1</span>
            

            

            <code class="ruby">        raise RuntimeError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="87">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def float_merchant(card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="29" data-linenumber="88">
            <span class="hits">29</span>
            

            

            <code class="ruby">    if not card.instance_of?(MerchantShip)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="89">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="92">
            <span class="hits">28</span>
            

            

            <code class="ruby">    if not @hand.include?(card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="93">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="96">
            <span class="hits">27</span>
            

            

            <code class="ruby">    @hand.delete(card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="97">
            <span class="hits">27</span>
            

            

            <code class="ruby">    @merchant_ships_at_sea.append(card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="98">
            <span class="hits">27</span>
            

            

            <code class="ruby">    return true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="102">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def play_pirate(pirate_card, merchant_card, pl)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="103">
            <span class="hits">32</span>
            

            

            <code class="ruby">    if not @hand.include?(pirate_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="104">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="31" data-linenumber="107">
            <span class="hits">31</span>
            

            

            <code class="ruby">    if not merchant_card.instance_of?(MerchantShip)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="108">
            <span class="hits">1</span>
            

            

            <code class="ruby">        return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="111">
            <span class="hits">30</span>
            

            

            <code class="ruby">    if not pl.merchant_ships_at_sea.include?(merchant_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="112">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="29" data-linenumber="115">
            <span class="hits">29</span>
            

            

            <code class="ruby">    if not pirate_card.instance_of?(PirateShip)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="116">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="119">
            <span class="hits">28</span>
            

            

            <code class="ruby">    if not pl.merchant_pirates.key?(merchant_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="120">
            <span class="hits">14</span>
            

            

            <code class="ruby">      pl.merchant_pirates[merchant_card] = [[self, pirate_card]]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="121">
            <span class="hits">14</span>
            

            

            <code class="ruby">      @hand.delete(pirate_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="122">
            <span class="hits">14</span>
            

            

            <code class="ruby">      return true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="125">
            <span class="hits">14</span>
            

            

            <code class="ruby">    last_card = pl.merchant_pirates[merchant_card][- 1][1]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="126">
            <span class="hits">14</span>
            

            

            <code class="ruby">    if last_card.instance_of?(Captain) or last_card.instance_of?(Admiral)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="127">
            <span class="hits">2</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="130">
            <span class="hits">12</span>
            

            

            <code class="ruby">    pl.merchant_pirates[merchant_card].each do |pair|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="34" data-linenumber="131">
            <span class="hits">34</span>
            

            

            <code class="ruby">      if pair[1].color == pirate_card.color and pair[0] != self</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="132">
            <span class="hits">1</span>
            

            

            <code class="ruby">        return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="136">
            <span class="hits">11</span>
            

            

            <code class="ruby">    pl.merchant_pirates[merchant_card].each do |pair|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="137">
            <span class="hits">32</span>
            

            

            <code class="ruby">      if pair[0] == self and pirate_card.color != pair[1].color</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="138">
            <span class="hits">1</span>
            

            

            <code class="ruby">        return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="142">
            <span class="hits">10</span>
            

            

            <code class="ruby">    pl.merchant_pirates[merchant_card].append([self, pirate_card])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="143">
            <span class="hits">10</span>
            

            

            <code class="ruby">    @hand.delete(pirate_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="144">
            <span class="hits">10</span>
            

            

            <code class="ruby">    return true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="147">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def play_captain(captain_card, merchant_card, pl)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="148">
            <span class="hits">17</span>
            

            

            <code class="ruby">    if not @hand.include?(captain_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="149">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="152">
            <span class="hits">16</span>
            

            

            <code class="ruby">    if not merchant_card.instance_of?(MerchantShip)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="153">
            <span class="hits">1</span>
            

            

            <code class="ruby">        return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="156">
            <span class="hits">15</span>
            

            

            <code class="ruby">    if not pl.merchant_ships_at_sea.include?(merchant_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="157">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="160">
            <span class="hits">14</span>
            

            

            <code class="ruby">    if not captain_card.instance_of?(Captain)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="161">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="164">
            <span class="hits">13</span>
            

            

            <code class="ruby">    if not pl.merchant_pirates.key?(merchant_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="165">
            <span class="hits">2</span>
            

            

            <code class="ruby">      pl.merchant_pirates[merchant_card] = [[self, captain_card]]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="166">
            <span class="hits">2</span>
            

            

            <code class="ruby">      @hand.delete(captain_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="167">
            <span class="hits">2</span>
            

            

            <code class="ruby">      return true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="170">
            <span class="hits">11</span>
            

            

            <code class="ruby">    pl.merchant_pirates[merchant_card].each do |pair|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="171">
            <span class="hits">20</span>
            

            

            <code class="ruby">      if pair[1].instance_of?(Admiral)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="172">
            <span class="hits">4</span>
            

            

            <code class="ruby">        next</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="175">
            <span class="hits">16</span>
            

            

            <code class="ruby">      if pair[1].color == captain_card.color and pair[0] != self</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="176">
            <span class="hits">1</span>
            

            

            <code class="ruby">        return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="180">
            <span class="hits">10</span>
            

            

            <code class="ruby">    pl.merchant_pirates[merchant_card].each do |pair|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="181">
            <span class="hits">17</span>
            

            

            <code class="ruby">      if pair[0] == self and captain_card.color != pair[1].color</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="182">
            <span class="hits">1</span>
            

            

            <code class="ruby">        return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="186">
            <span class="hits">9</span>
            

            

            <code class="ruby">    pl.merchant_pirates[merchant_card].append([self, captain_card])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="187">
            <span class="hits">9</span>
            

            

            <code class="ruby">    @hand.delete(captain_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="188">
            <span class="hits">9</span>
            

            

            <code class="ruby">    return true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="191">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def play_admiral(admiral_card, merchant_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="192">
            <span class="hits">9</span>
            

            

            <code class="ruby">    if not @hand.include?(admiral_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="193">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="196">
            <span class="hits">8</span>
            

            

            <code class="ruby">    if not merchant_card.instance_of?(MerchantShip)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="197">
            
            

            

            <code class="ruby">        return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="200">
            <span class="hits">8</span>
            

            

            <code class="ruby">    if not @merchant_ships_at_sea.include?(merchant_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="201">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="204">
            <span class="hits">7</span>
            

            

            <code class="ruby">    if not admiral_card.instance_of?(Admiral)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="205">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="208">
            <span class="hits">6</span>
            

            

            <code class="ruby">    if not @merchant_pirates.key?(merchant_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="209">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @merchant_pirates[merchant_card] = [[self, admiral_card]]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="210">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @hand.delete(admiral_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="211">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="214">
            <span class="hits">5</span>
            

            

            <code class="ruby">    @merchant_pirates[merchant_card].append([self, admiral_card])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="215">
            <span class="hits">5</span>
            

            

            <code class="ruby">    @hand.delete(admiral_card)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="216">
            <span class="hits">5</span>
            

            

            <code class="ruby">    return true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="220">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Deck</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="221">
            <span class="hits">1</span>
            

            

            <code class="ruby">  @@instance = nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="222">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attr_writer :instance</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="224">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="225">
            <span class="hits">30</span>
            

            

            <code class="ruby">    if @@instance.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="226">
            <span class="hits">30</span>
            

            

            <code class="ruby">      @cards = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">      # Add Admiral</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="228">
            <span class="hits">30</span>
            

            

            <code class="ruby">      @cards.push(Admiral.get_instance())</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">      # Add 5 twos, 6 threes, 5 fours, 5 fives, 2 sixes, 1 seven, and 1 eight merchant cards</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="231">
            <span class="hits">30</span>
            

            

            <code class="ruby">      (1..5).each do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="150" data-linenumber="232">
            <span class="hits">150</span>
            

            

            <code class="ruby">        @cards.push(MerchantShip.new(2))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="150" data-linenumber="233">
            <span class="hits">150</span>
            

            

            <code class="ruby">        @cards.push(MerchantShip.new(4))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="150" data-linenumber="234">
            <span class="hits">150</span>
            

            

            <code class="ruby">        @cards.push(MerchantShip.new(5))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="150" data-linenumber="235">
            <span class="hits">150</span>
            

            

            <code class="ruby">        @cards.push(MerchantShip.new(3))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="238">
            <span class="hits">30</span>
            

            

            <code class="ruby">      @cards.push(MerchantShip.new(3))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="239">
            <span class="hits">30</span>
            

            

            <code class="ruby">      @cards.push(MerchantShip.new(7))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="240">
            <span class="hits">30</span>
            

            

            <code class="ruby">      @cards.push(MerchantShip.new(8))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="241">
            <span class="hits">30</span>
            

            

            <code class="ruby">      @cards.push(MerchantShip.new(6))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="242">
            <span class="hits">30</span>
            

            

            <code class="ruby">      @cards.push(MerchantShip.new(6))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">      # Add four captains</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="245">
            <span class="hits">30</span>
            

            

            <code class="ruby">      @cards.push(Captain.new(&quot;blue&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="246">
            <span class="hits">30</span>
            

            

            <code class="ruby">      @cards.push(Captain.new(&quot;green&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="247">
            <span class="hits">30</span>
            

            

            <code class="ruby">      @cards.push(Captain.new(&quot;purple&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="248">
            <span class="hits">30</span>
            

            

            <code class="ruby">      @cards.push(Captain.new(&quot;gold&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">      # Add pirate ship cards 2 ones, 4 twos, 4 threes, and 2 fours for each color</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="251">
            <span class="hits">30</span>
            

            

            <code class="ruby">      [&quot;blue&quot;, &quot;green&quot;, &quot;purple&quot;, &quot;gold&quot;].each do |i|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="252">
            <span class="hits">120</span>
            

            

            <code class="ruby">        @cards.push(PirateShip.new(i, 1))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="253">
            <span class="hits">120</span>
            

            

            <code class="ruby">        @cards.push(PirateShip.new(i, 1))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="255">
            <span class="hits">120</span>
            

            

            <code class="ruby">        @cards.push(PirateShip.new(i, 2))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="256">
            <span class="hits">120</span>
            

            

            <code class="ruby">        @cards.push(PirateShip.new(i, 2))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="257">
            <span class="hits">120</span>
            

            

            <code class="ruby">        @cards.push(PirateShip.new(i, 2))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="258">
            <span class="hits">120</span>
            

            

            <code class="ruby">        @cards.push(PirateShip.new(i, 2))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="260">
            <span class="hits">120</span>
            

            

            <code class="ruby">        @cards.push(PirateShip.new(i, 3))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="261">
            <span class="hits">120</span>
            

            

            <code class="ruby">        @cards.push(PirateShip.new(i, 3))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="262">
            <span class="hits">120</span>
            

            

            <code class="ruby">        @cards.push(PirateShip.new(i, 3))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="263">
            <span class="hits">120</span>
            

            

            <code class="ruby">        @cards.push(PirateShip.new(i, 3))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="265">
            <span class="hits">120</span>
            

            

            <code class="ruby">        @cards.push(PirateShip.new(i, 4))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="266">
            <span class="hits">120</span>
            

            

            <code class="ruby">        @cards.push(PirateShip.new(i, 4))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="270">
            
            

            

            <code class="ruby">      raise RuntimeError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="274">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_accessor :cards</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="276">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.get_instance</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="38" data-linenumber="277">
            <span class="hits">38</span>
            

            

            <code class="ruby">    if @@instance.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="278">
            <span class="hits">30</span>
            

            

            <code class="ruby">      @@instance = Deck.new()</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="38" data-linenumber="280">
            <span class="hits">38</span>
            

            

            <code class="ruby">    return @@instance</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="283">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.instance=(v)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="284">
            <span class="hits">30</span>
            

            

            <code class="ruby">    @@instance = v</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="288">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Game</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="289">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(deck)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="290">
            <span class="hits">37</span>
            

            

            <code class="ruby">    @deck = deck</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="291">
            <span class="hits">37</span>
            

            

            <code class="ruby">    @players = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="292">
            <span class="hits">37</span>
            

            

            <code class="ruby">    @current_player = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="295">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :deck, :players, :current_player</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="296">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_writer :current_player</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="298">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def create_players(names, min_players, max_players)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="36" data-linenumber="299">
            <span class="hits">36</span>
            

            

            <code class="ruby">    if names.length() &lt; min_players or names.length() &gt; max_players</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="300">
            <span class="hits">2</span>
            

            

            <code class="ruby">      raise RuntimeError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="34" data-linenumber="303">
            <span class="hits">34</span>
            

            

            <code class="ruby">    names.each do |name|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="96" data-linenumber="304">
            <span class="hits">96</span>
            

            

            <code class="ruby">      @players.push(Player.new(name))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="309">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def random_player</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="310">
            <span class="hits">2</span>
            

            

            <code class="ruby">    if @players.length() == 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="311">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="314">
            <span class="hits">1</span>
            

            

            <code class="ruby">    ran = Random.rand(@players.length())</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="315">
            <span class="hits">1</span>
            

            

            <code class="ruby">    return @players[ran]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="318">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def start</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="31" data-linenumber="319">
            <span class="hits">31</span>
            

            

            <code class="ruby">    if @players.length() == 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="320">
            
            

            

            <code class="ruby">      return nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="31" data-linenumber="323">
            <span class="hits">31</span>
            

            

            <code class="ruby">    dealer_ind = -1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="31" data-linenumber="324">
            <span class="hits">31</span>
            

            

            <code class="ruby">    @players.each_with_index do |player, ind|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="86" data-linenumber="325">
            <span class="hits">86</span>
            

            

            <code class="ruby">      if player.dealer == true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="31" data-linenumber="326">
            <span class="hits">31</span>
            

            

            <code class="ruby">        dealer_ind = ind</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="31" data-linenumber="330">
            <span class="hits">31</span>
            

            

            <code class="ruby">    return @players[dealer_ind - 1]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="333">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def next</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="65" data-linenumber="334">
            <span class="hits">65</span>
            

            

            <code class="ruby">    if @players.length() == 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="335">
            
            

            

            <code class="ruby">      return nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="65" data-linenumber="338">
            <span class="hits">65</span>
            

            

            <code class="ruby">    current_player_ind = -1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="65" data-linenumber="339">
            <span class="hits">65</span>
            

            

            <code class="ruby">    @players.each_with_index do |player, ind|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="193" data-linenumber="340">
            <span class="hits">193</span>
            

            

            <code class="ruby">      if player == @current_player</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="65" data-linenumber="341">
            <span class="hits">65</span>
            

            

            <code class="ruby">        current_player_ind = ind</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="65" data-linenumber="345">
            <span class="hits">65</span>
            

            

            <code class="ruby">    next_ind = current_player_ind + 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby">    # wrap around</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="65" data-linenumber="347">
            <span class="hits">65</span>
            

            

            <code class="ruby">    if current_player_ind == (@players.length() - 1)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="348">
            <span class="hits">12</span>
            

            

            <code class="ruby">      next_ind = 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="65" data-linenumber="351">
            <span class="hits">65</span>
            

            

            <code class="ruby">    return @players[next_ind]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="354">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def choose_player(pos)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="355">
            <span class="hits">6</span>
            

            

            <code class="ruby">    if pos &gt; @players.length() or pos &lt;= 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="356">
            <span class="hits">2</span>
            

            

            <code class="ruby">      return nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="358">
            <span class="hits">4</span>
            

            

            <code class="ruby">    return @players[pos - 1]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="362">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def capture_merchant_ships</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="363">
            <span class="hits">9</span>
            

            

            <code class="ruby">    @players.each do |player|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="364">
            <span class="hits">27</span>
            

            

            <code class="ruby">      player.merchant_ships_at_sea.each do |ship|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="366">
            <span class="hits">10</span>
            

            

            <code class="ruby">        if not player.merchant_pirates.key?(ship)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="367">
            <span class="hits">2</span>
            

            

            <code class="ruby">          player.merchant_ships_captured.append(ship)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="368">
            <span class="hits">2</span>
            

            

            <code class="ruby">          player.merchant_ships_at_sea.delete(ship)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="369">
            <span class="hits">2</span>
            

            

            <code class="ruby">          player.merchant_pirates.delete(ship)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="370">
            <span class="hits">2</span>
            

            

            <code class="ruby">          next</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">        # Admiral &amp; Captain case</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="374">
            <span class="hits">8</span>
            

            

            <code class="ruby">        last_card = player.merchant_pirates[ship][-1][1]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="375">
            <span class="hits">8</span>
            

            

            <code class="ruby">        if last_card.instance_of?(Admiral) or last_card.instance_of?(Captain)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="376">
            <span class="hits">5</span>
            

            

            <code class="ruby">          last_player = player.merchant_pirates[ship][-1][0]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="377">
            <span class="hits">5</span>
            

            

            <code class="ruby">          last_player.merchant_ships_captured.append(ship)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="378">
            <span class="hits">5</span>
            

            

            <code class="ruby">          player.merchant_ships_at_sea.delete(ship)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="379">
            <span class="hits">5</span>
            

            

            <code class="ruby">          player.merchant_pirates.delete(ship)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="380">
            <span class="hits">5</span>
            

            

            <code class="ruby">          next</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            
            

            

            <code class="ruby">        # Check pirates</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="384">
            <span class="hits">3</span>
            

            

            <code class="ruby">        player_strength = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="385">
            <span class="hits">3</span>
            

            

            <code class="ruby">        player.merchant_pirates[ship].each do |attack_plyr, attack_card|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="386">
            <span class="hits">15</span>
            

            

            <code class="ruby">          if attack_card.instance_of?(PirateShip)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="387">
            <span class="hits">15</span>
            

            

            <code class="ruby">            if not player_strength.include?(attack_plyr)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="388">
            <span class="hits">8</span>
            

            

            <code class="ruby">              player_strength[attack_plyr] = attack_card.attack_value</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="389">
            <span class="hits">7</span>
            

            

            <code class="ruby">            elsif player_strength.include?(attack_plyr)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="390">
            <span class="hits">7</span>
            

            

            <code class="ruby">              player_strength[attack_plyr] = player_strength[attack_plyr] + attack_card.attack_value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="395">
            <span class="hits">3</span>
            

            

            <code class="ruby">        highest_player = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="396">
            <span class="hits">3</span>
            

            

            <code class="ruby">        max_score = player_strength.values().max()</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="397">
            <span class="hits">3</span>
            

            

            <code class="ruby">        player_strength.each do |plyr, scr|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="398">
            <span class="hits">8</span>
            

            

            <code class="ruby">          if scr == max_score</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="399">
            <span class="hits">5</span>
            

            

            <code class="ruby">            highest_player.append(plyr)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="403">
            <span class="hits">3</span>
            

            

            <code class="ruby">        if highest_player.length() != 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="404">
            <span class="hits">2</span>
            

            

            <code class="ruby">          next</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="407">
            <span class="hits">1</span>
            

            

            <code class="ruby">        highest_player[0].merchant_ships_captured.append(ship)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="408">
            <span class="hits">1</span>
            

            

            <code class="ruby">        player.merchant_ships_at_sea.delete(ship)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="409">
            <span class="hits">1</span>
            

            

            <code class="ruby">        player.merchant_pirates.delete(ship)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="412">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="414">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def show_winner</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="415">
            <span class="hits">2</span>
            

            

            <code class="ruby">    player_scores = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="416">
            <span class="hits">2</span>
            

            

            <code class="ruby">    @players.each do |player|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="417">
            <span class="hits">6</span>
            

            

            <code class="ruby">      score = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="418">
            <span class="hits">6</span>
            

            

            <code class="ruby">      player.merchant_ships_captured.each do |captured|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="419">
            <span class="hits">2</span>
            

            

            <code class="ruby">        score += captured.value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="421">
            <span class="hits">6</span>
            

            

            <code class="ruby">      player_scores[player] = score</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="424">
            <span class="hits">2</span>
            

            

            <code class="ruby">    winners = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="425">
            <span class="hits">2</span>
            

            

            <code class="ruby">    max_score = player_scores.values().max()</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="426">
            <span class="hits">2</span>
            

            

            <code class="ruby">    if max_score == 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="427">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return winners</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="428">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="429">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="430">
            <span class="hits">1</span>
            

            

            <code class="ruby">    player_scores.each do |plyr, scr|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="431">
            <span class="hits">3</span>
            

            

            <code class="ruby">      if scr == max_score</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="432">
            <span class="hits">2</span>
            

            

            <code class="ruby">        winners.append([plyr, scr])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="433">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="435">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="436">
            <span class="hits">1</span>
            

            

            <code class="ruby">    return winners</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="437">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="438">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
